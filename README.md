# PhoneBookApp

[![Watch the video](https://img.youtube.com/shorts/Qrpciz-zXEs/default.jpg)](https://youtube.com/shorts/Qrpciz-zXEs)

## Привет, Domini Games!
Благодарю за возможность поучаствовать в отборе! После бесконечного прорешивания задачек на Codewars и чтения книг мне было жутко интересно поработать над прикладными задачами. Мое решение тестового — в репозитории, а тут оставляю свои комментарии.

## General
Как и было описано в задании, приложение состоит из двух частей: Android (Java) и C++. Инициализация приложения, взаимодействие с UI написаны на Java, а хранение списка контактов и взаимодействия с ним реализованы на C++. 


C++ часть представляет собой основной синглтон класс PhoneBook и вспомогательный класс PhoneBookDestroyer, который делает взаимодействие с памятью безопаснее.
Главным атрибутом класса PhoneBook является контейнер map, в котором хранятся пары "Имя_контакта"->"Номер". Я принял такое решение, так как map хранит ключи в отсортированном порядке, что упрощает добавление нового контакта (котейнер сам определяет его место) и отправку всего списка в JSON (они сразу отправляются в отсортированном порядке). Методы класса предполагают: отправку всего списка контактов в виде JSON-строки, добавление нового контакта из JSON-строки, выдачу списка контактов, в именах которых есть запрашиваемая подстрока (прием и отправка данных реализована в виде JSON-строк).

### Нюансы:
- Я использовал один хедер для двух классов (что кажется нормальным для такой реализации синглтона);
- Хоть отсортированные ключи словаря позволяют реализовать, например, бинарный поиск, я все же использовал линейный поиск подстроки в именах контактов (так как пользователь мог использовать несколько слов в имени, чего бы бинарный поиск строки в обычной реализации не мог словить). Продвинутая реализация поиска требует тотального пересмотра архитектуры и другого подхода к харанению информации о контакте, что нарушало бы условия тестового.
- В своем прототипе я реализовал добавление нового контакта в виде отдельного экрана, но в выложенном здесь варинате я решил отказаться от этого и выделил слишком много пространства основной активности под необходимые поля и кнопку. Если бы я заранее думал архитектурно, я бы многое переписал в виде фрагментов и активно использовал навигацию между ними.
- Я решил форматировать номер нового контакта на стороне C++. Возможно, стоило бы добавить еще один native метод, который бы проверял введенные данные.

Понимаю, что в моем выполнении тестового задания слишком много костылей. Но надеюсь, оно хотя бы покажет мою готовность учиться новому - ранее мне не приходилось писать на Java, но после школы C++ это оказалось довольно легко.

Связаться со мной можно:
- 7 (902) 585 00 55, Сергей. Telegram, Ватсап.
- @jacquesyves_kustov - VK, Inst.
